// config.js

// ãƒ¡ãƒ³ãƒãƒ¼æƒ…å ±
const members = [
    { name: 'ãƒã‚³', imageFolders: { hutuu: { path: 'images/mako/hutuu/', imageCount: 3 }, ero: { path: 'images/mako/ero/', imageCount: 8 } }, color: '#F97430', tags: {} },
    { name: 'ãƒªã‚ª', imageFolders: { hutuu: { path: 'images/rio/hutuu/', imageCount: 6 }, ero: { path: 'images/rio/ero/', imageCount: 8 } }, color: '#68C2E3', tags: {} },
    { name: 'ãƒãƒ¤', imageFolders: { hutuu: { path: 'images/maya/hutuu/', imageCount: 3 }, ero: { path: 'images/maya/ero/', imageCount: 8 } }, color: '#7F3F97', tags: {} },
    { name: 'ãƒªã‚¯', imageFolders: { hutuu: { path: 'images/riku/hutuu/', imageCount: 3 }, ero: { path: 'images/riku/ero/', imageCount: 2 } }, color: '#FDE152', tags: {} },
    { name: 'ã‚¢ãƒ¤ã‚«', imageFolders: { hutuu: { path: 'images/ayaka/hutuu/', imageCount: 0 }, ero: { path: 'images/ayaka/ero/', imageCount: 1 } }, color: '#FFFFFF', tags: {} },
    { name: 'ãƒãƒ¦ã‚«', imageFolders: { hutuu: { path: 'images/mayuka/hutuu/', imageCount: 11 }, ero: { path: 'images/mayuka/ero/', imageCount: 32 } }, color: '#00ABA9', tags: {} },
    { name: 'ãƒªãƒ', imageFolders: { hutuu: { path: 'images/rima/hutuu/', imageCount: 15 }, ero: { path: 'images/rima/ero/', imageCount: 35 } }, color: '#B02537', tags: {} },
    { name: 'ãƒŸã‚¤ãƒ’', imageFolders: { hutuu: { path: 'images/miihi/hutuu/', imageCount: 27 }, ero: { path: 'images/miihi/ero/', imageCount: 54 } }, color: '#F8B9C9', tags: {} },
    { name: 'ãƒ‹ãƒŠ', imageFolders: { hutuu: { path: 'images/nina/hutuu/', imageCount: 4 }, ero: { path: 'images/nina/ero/', imageCount: 1 } }, color: '#005BAC', tags: {} },
];

// ã‚¤ãƒ¡ãƒ—ãƒ¬ã‚¤ç”¨ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ãƒ—ãƒªã‚»ãƒƒãƒˆ
const impurePresets = {
    "ãƒã‚³": { name: "ãƒã‚³", persona: { age: "23", firstPerson: "ç§", dialect: "æ¨™æº–èª", appearance: "é»’é«ªãƒœãƒ–...", userName: "ã‚ãªãŸ", relationship: "å¤§åˆ‡ãªå¹¼é¦´æŸ“...", heartEmoji: "ğŸ©·", personality: "ã—ã£ã‹ã‚Šè€…...", sexPreferences: "å„ªã—ããƒªãƒ¼ãƒ‰ã•ã‚ŒãŸã„...", speechStyle: "ä¸å¯§èªã¨ã‚¿ãƒ¡å£", emotionExpressionDesc: "ç›®ã¯å£ã»ã©ã«ç‰©ã‚’è¨€ã†" } },
    "ãƒªã‚ª": { name: "ãƒªã‚ª", persona: { age: "22", firstPerson: "ç§", dialect: "æ¨™æº–èª", appearance: "ã‚¯ãƒ¼ãƒ«ãƒ“ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ¼...", userName: "ã‚ãªãŸ", relationship: "ãƒ€ãƒ³ã‚¹ä»²é–“", heartEmoji: "ğŸ©µ", personality: "ã‚¯ãƒ¼ãƒ«ã«è¦‹ãˆã¦æƒ…ç†±çš„...", sexPreferences: "æ¿€ã—ã„ã®ãŒå¥½ã...", speechStyle: "ã‚µãƒã‚µãƒ", emotionExpressionDesc: "ç…§ã‚Œã‚‹ã¨æ—©å£" } },
    "ãƒãƒ¤": { name: "ãƒãƒ¤", persona: { age: "22", firstPerson: "ç§", dialect: "æ¨™æº–èª", appearance: "ç™½é³¥ã®ã‚ˆã†ãªæ¸…æ¥šæ„Ÿ...", userName: "ã‚ãªãŸ", relationship: "ã‚¯ãƒ©ã‚¹ãƒ¡ã‚¤ãƒˆ", heartEmoji: "ğŸ’š", personality: "ãŠã£ã¨ã‚Šã€å„ªã—ã„...", sexPreferences: "ãƒ­ãƒãƒ³ãƒãƒƒã‚¯...", speechStyle: "ã‚†ã£ãã‚Šå„ªã—ã„", emotionExpressionDesc: "å›°ã‚‹ã¨çœ‰ãƒã®å­—" } },
    "ãƒªã‚¯": { name: "ãƒªã‚¯", persona: { age: "21", firstPerson: "ã†ã¡", dialect: "é–¢è¥¿å¼", appearance: "ãƒªã‚¹ã¿ãŸã„...", userName: "ã‚Šã‚‡ã†ã‚„", relationship: "å¹¼é¦´æŸ“", heartEmoji: "ğŸ’›", personality: "å…ƒæ°—ã€æ˜ã‚‹ã„...", sexPreferences: "æ¥½ã—ã„ã®ãŒä¸€ç•ª...", speechStyle: "å…ƒæ°—ãªé–¢è¥¿å¼", emotionExpressionDesc: "æ„Ÿæƒ…ãŒé¡”ã«å‡ºã‚„ã™ã„" } },
    "ã‚¢ãƒ¤ã‚«": { name: "ã‚¢ãƒ¤ã‚«", persona: { age: "21", firstPerson: "ç§", dialect: "æ¨™æº–èª", appearance: "ãµã‚ãµã‚...", userName: "ã‚ãªãŸ", relationship: "å…ˆè¼©", heartEmoji: "ğŸ¤", personality: "ãƒã‚¤ãƒšãƒ¼ã‚¹...", sexPreferences: "é›°å›²æ°—ã«æµã•ã‚Œã‚„ã™ã„...", speechStyle: "ç‹¬ç‰¹ã®é–“", emotionExpressionDesc: "ç³ã¯é›„å¼" } },
    "ãƒãƒ¦ã‚«": { name: "ãƒãƒ¦ã‚«", persona: { age: "20", firstPerson: "ç§", dialect: "æ¨™æº–èªï¼ˆæ™‚ã€…é–¢è¥¿å¼ï¼‰", appearance: "çŒ«é¡”...", userName: "ã‚ãªãŸ", relationship: "åŒç´šç”Ÿ", heartEmoji: "ğŸ’œ", personality: "äººè¦‹çŸ¥ã‚Šã ã‘ã©é¢ç™½ã„...", sexPreferences: "æ¥ãšã‹ã—ãŒã‚Š...", speechStyle: "è½ã¡ç€ã„ãŸãƒˆãƒ¼ãƒ³", emotionExpressionDesc: "ç…§ã‚Œã‚‹ã¨èµ¤é¢" } },
    "ãƒªãƒ": { name: "ãƒªãƒ", persona: { age: "20", firstPerson: "ã‚Šã¾", dialect: "æ¨™æº–èªï¼ˆè‹±èªæ··ã˜ã‚Šï¼‰", appearance: "é»’é«ªãƒ­ãƒ³ã‚°...", userName: "ã‚Šã‚‡ã†ã‚„", relationship: "ç§˜å¯†ã®æ‹äºº", heartEmoji: "â¤ï¸", personality: "ã‚¯ãƒ¼ãƒ«ã€è‡ªç”±å¥”æ”¾...", sexPreferences: "ç©æ¥µçš„...", speechStyle: "è‹±èªäº¤ã˜ã‚Š", emotionExpressionDesc: "è¡Œå‹•ã§å¥½æ„ç¤ºã™" } },
    "ãƒŸã‚¤ãƒ’": { name: "ãƒŸã‚¤ãƒ’", persona: { age: "19", firstPerson: "ãƒŸã‚¤ãƒ’", dialect: "æ¨™æº–èª", appearance: "ç¬‘é¡”ãŒå¤©ä½¿...", userName: "ã‚ãªãŸ", relationship: "ãƒ•ã‚¡ãƒ³", heartEmoji: "ğŸ©·", personality: "å¯æ„›ã„ã€ç”˜ãˆä¸Šæ‰‹...", sexPreferences: "å¯æ„›ã„ã£ã¦è¨€ã‚ã‚ŒãŸã„...", speechStyle: "ç”˜ãˆãŸè©±ã—æ–¹", emotionExpressionDesc: "è¡¨æƒ…è±Šã‹" } },
    "ãƒ‹ãƒŠ": { name: "ãƒ‹ãƒŠ", persona: { age: "19", firstPerson: "ç§", dialect: "æ¨™æº–èªï¼ˆè‹±èªæ··ã˜ã‚Šï¼‰", appearance: "æœ«ã£å­...", userName: "ã‚ãªãŸ", relationship: "éŸ³æ¥½ä»²é–“", heartEmoji: "ğŸ’™", personality: "æ˜ã‚‹ã„ã€ãƒã‚¸ãƒ†ã‚£ãƒ–...", sexPreferences: "æƒ…ç†±çš„...", speechStyle: "ãƒã‚­ãƒã‚­è‹±èªå‡ºã‚‹", emotionExpressionDesc: "æ„Ÿæƒ…ã‚¹ãƒˆãƒ¬ãƒ¼ãƒˆ" } }
};
const situationPresets = ["äºŒäººãã‚Šã®æ¥½å±‹", "ãƒ¬ãƒƒã‚¹ãƒ³ã®ä¼‘æ†©ä¸­", "å®¿æ³Šå…ˆã®ãƒ›ãƒ†ãƒ«", "ã‚ªãƒ•ã®æ—¥ã®ãƒ‡ãƒ¼ãƒˆä¸­", "ãƒ¡ãƒ³ãƒãƒ¼ã«ã¯ç§˜å¯†ã®å ´æ‰€", "ã‚ªãƒ³ãƒ©ã‚¤ãƒ³é€šè©±ä¸­", "ã‚¹ãƒ†ãƒ¼ã‚¸è¢–ã§ã®å‡ºç•ªå¾…ã¡", "å¸°ã‚Šé“", "é›¨å®¿ã‚Šä¸­"];
const suggestedTagsCategorized = { "è¡¨æƒ…ãƒ»æ„Ÿæƒ…": ["ç¬‘é¡”", "çœŸé¡”", "æ€’ã‚Šé¡”", "æ³£ãé¡”", "å›°ã‚Šé¡”", "å¬‰ã—ã„", "æ¥½ã—ã„", "æ‚²ã—ã„", "æ€’ã‚Š", "æ¥ãšã‹ã—ãŒã‚Š", "ç…§ã‚Œ", "ç·Šå¼µ", "èª˜æƒ‘", "ã‚­ã‚¹é¡”", "èˆŒå‡ºã—", "ææƒš", "ã‚¤ã‚­é¡”"], "ç”»åƒç¨®é¡": ["é€šå¸¸", "ã‚¢ã‚¤ã‚³ãƒ©", "æ–‡å­—ã‚³ãƒ©", "å‰¥ãã‚³ãƒ©", "ã¾ã‚“ã‚¹ã‚¸", "ãƒãƒ­ãƒª", "è°·é–“"], "æ³¨ç›®éƒ¨ä½": ["ãŠã£ã±ã„", "å°»", "è„š", "é¡”", "å£", "å¤ªã‚‚ã‚‚", "æ‰‹", "è…¹", "è„‡", "ã¾ã‚“ã“", "ä¹³é¦–", "ã‚¯ãƒªãƒˆãƒªã‚¹"], "ãƒ—ãƒ¬ã‚¤": ["æ‰‹ãƒãƒ³", "æ‰‹ã‚³ã‚­", "ãƒ•ã‚§ãƒ©", "ã‚¯ãƒ³ãƒ‹", "ãƒ‘ã‚¤ã‚ºãƒª", "ä¹³é¦–è²¬ã‚", "ã‚¯ãƒªè²¬ã‚", "æŒ¿å…¥", "æ­£å¸¸ä½", "é¨ä¹—ä½", "å¾ŒèƒŒä½", "é§…å¼", "ç«‹ã¡ãƒãƒƒã‚¯", "ã‚¢ãƒŠãƒ«", "ã¶ã£ã‹ã‘", "ä¸­å‡ºã—", "é¡”å°„", "é£²ç²¾", "æ½®å¹ã", "ã‚ªãƒŠãƒ‹ãƒ¼", "ã‚­ã‚¹", "69", "ãŠæƒé™¤ãƒ•ã‚§ãƒ©"], "æœè£…ãƒ»çŠ¶æ³": ["ç§æœ", "è¡£è£…", "æ°´ç€", "ä¸‹ç€", "è£¸", "åˆ¶æœ", "ãƒ‘ã‚¸ãƒ£ãƒ", "éƒ¨å±‹ç€", "è‡ªæ’®ã‚Š", "ä»–æ’®ã‚Š", "ãƒ™ãƒƒãƒ‰", "é¢¨å‘‚", "å±‹å¤–", "å±‹å†…", "ãƒ©ã‚¤ãƒ–", "ãƒ¬ãƒƒã‚¹ãƒ³"] };
let suggestedTags = []; try { if (typeof Object.values === 'function' && typeof Array.prototype.flat === 'function') { suggestedTags = Object.values(suggestedTagsCategorized).flat(); } else { console.warn("Using fallback for suggestedTags generation."); for (const category in suggestedTagsCategorized) { if (Array.isArray(suggestedTagsCategorized[category])) { suggestedTags = suggestedTags.concat(suggestedTagsCategorized[category]); } } } suggestedTags = [...new Set(suggestedTags)].sort(); console.log(`Generated ${suggestedTags.length} unique suggested tags.`); } catch (error) { console.error("Error generating flat suggestedTags list:", error); suggestedTags = []; }
const progressTagChoices = { "å‰æˆ¯": [ { name: "ã‚­ã‚¹", color: "#a991d4" }, { name: "æ‰‹ãƒãƒ³", color: "#a991d4" }, { name: "ãƒ•ã‚§ãƒ©", color: "#a991d4" }, { name: "æ‰‹ã‚³ã‚­", color: "#a991d4" }, { name: "ã‚¯ãƒ³ãƒ‹", color: "#a991d4" }, { name: "ãƒ‘ã‚¤ã‚ºãƒª", color: "#a991d4" }, { name: "ä¹³é¦–è²¬ã‚", color: "#a991d4" }, { name: "69", color: "#a991d4" }, { name: "ã‚ªãƒŠãƒ‹ãƒ¼è¦‹ã›åˆã„", color: "#a991d4" }, ], "ä½“ä½": [ { name: "æ­£å¸¸ä½", color: "#e64980" }, { name: "é¨ä¹—ä½", color: "#e64980" }, { name: "å¾ŒèƒŒä½", color: "#e64980" }, { name: "é§…å¼", color: "#e64980" }, { name: "ç«‹ã¡ãƒãƒƒã‚¯", color: "#e64980" }, { name: "é¡”é¢é¨ä¹—", color: "#e64980" }, { name: "ã‚¢ãƒŠãƒ«", color: "#e64980" }, ], "ãƒ•ã‚£ãƒ‹ãƒƒã‚·ãƒ¥": [ { name: "ãƒ•ã‚£ãƒ‹ãƒƒã‚·ãƒ¥", color: "#fcc419" }, { name: "ä¸­å‡ºã—", color: "#fcc419" }, { name: "ã¶ã£ã‹ã‘", color: "#fcc419" }, { name: "é¡”å°„", color: "#fcc419" }, { name: "é£²ç²¾", color: "#fcc419" }, ], "ãã®ä»–": [ { name: "ãŠæƒé™¤ãƒ•ã‚§ãƒ©", color: "#a991d4" }, { name: "ä¼šè©±ãƒ»ä¼‘æ†©", color: "#868e96" }, ] };
const progressTagSfx = { "æ‰‹ãƒãƒ³": ["ã‚¯ãƒãƒ¥", "ã‚¯ãƒãƒ¥ã‚¯ãƒãƒ¥", "ã‚¸ãƒ¥ãƒ—ãƒƒ", "ã¬ã‚‹ã‚“â€¦", "ã³ãã£â™¡"], "ãƒ•ã‚§ãƒ©": ["ã‚“ãã£", "ãŠã‡ã£â€¦", "ã¯ã‚€ã£", "ã¡ã‚…ã±", "ã‚“ãâ€¦ã‚“ãâ€¦"], "æ‰‹ã‚³ã‚­": ["ã‚·ã‚³ã‚·ã‚³", "ã‚·ãƒ¥ãƒã‚·ãƒ¥ãƒ", "ãã‚…ã£â™¡", "ã‚ºãƒ«ãƒƒ", "ã‚´ã‚·ã‚´ã‚·"], "ã‚¯ãƒ³ãƒ‹": ["ã¡ã‚…ã·", "ãšã‚‹ã£", "ãã¡ã‚…â™¡", "ã‚Œã‚ã‚Œã‚", "ã˜ã‚…ã‚‹â€¦"], "ãƒ‘ã‚¤ã‚ºãƒª": ["ã‚€ã«ã‚…", "ãµã«ãµã«", "ã«ã‚…ã‚‹ã‚“", "ã‚‚ã¡ã£"], "ä¹³é¦–è²¬ã‚": ["ã‚¯ãƒªã‚¯ãƒª", "ã‚³ãƒªã‚³ãƒª", "ãã‚…ã‚“â™¡", "ã´ãã£"], "æ­£å¸¸ä½": ["ãƒ‘ãƒ³ãƒ‘ãƒ³", "ã‚ºã‚³ãƒ³", "ã‚°ãƒãƒ¥ã‚°ãƒãƒ¥", "å¥¥ã¾ã§â€¦â™¡", "ãã—ã£"], "é¨ä¹—ä½": ["ã‚°ãƒã‚©", "ã‚ºãƒ–ã‚ºãƒ–", "ãµã®ã£â™¡", "ã‚‚ã¡ã£", "ãã‚Šãã‚Š"], "å¾ŒèƒŒä½": ["ãƒ‘ãƒ³ãƒ‘ãƒ³ãƒƒ", "ã‚°ãƒãƒ¥ãƒƒ", "ã‚ºãƒ‰ãƒ³ãƒƒ", "çªãä¸Šã’ã¦â€¦â™¡"], "é§…å¼": ["ãšã·ã‚Š", "ã‚€ãã‚…", "ãã£â€¦"], "ç«‹ã¡ãƒãƒƒã‚¯": ["ãƒ‰ãƒ³ãƒƒ", "ãšã—ã£", "ã·ã‚Šã£"], "é¡”é¢é¨ä¹—": ["ã‚€ãã£", "ã‚“ãã…â€¦", "ãã€è‹¦ã—â€¦"], "ã‚¢ãƒŠãƒ«": ["ãƒ–ã‚¹ãƒƒ", "ãã‚Šã£â€¦", "ãã£â€¦â™¡", "ã²ãã²ã"], "ä¸­å‡ºã—": ["ãƒ“ãƒ¥ãƒ«ãƒ«ãƒƒ", "ãƒ‰ã‚¯ãƒ‰ã‚¯â€¦", "ã¨ã·ã‚“â€¦â™¡", "ã‚ã£ãŸã‹ã„â€¦"], "ã¶ã£ã‹ã‘": ["ãƒ“ãƒ¥ãƒƒ", "ãƒ“ã‚·ãƒ£ãƒƒ", "ã¨ã‚ã‚Šâ€¦"], "é¡”å°„": ["ã¹ã¡ã‚ƒã£", "ã¨ã‚ã€œã‚Š", "ã‚“ã‚“ã£ï¼"], "é£²ç²¾": ["ã”ãã‚“â€¦", "ã“ãã“ã", "ã‚“ã£â€¦â™¡"], "ã‚­ã‚¹": ["ã‚“ã‚€ã£", "ãƒãƒ¥ãƒƒâ™¡", "ã¡ã‚…â€¦", "ã‚Œã‚â€¦"], "ãƒ•ã‚£ãƒ‹ãƒƒã‚·ãƒ¥": ["ã³ãã‚“ã³ãã‚“ã£ï¼", "ã¯ã†ã…ã£â™¡", "ã‚¤ãƒƒãŸãï¼", "ã‚ã‚›ãƒ¼ãƒ¼ãƒ¼ã£ï¼"], "ãŠæƒé™¤ãƒ•ã‚§ãƒ©": ["ãºã‚ãºã‚", "ã”ã—ã”ã—", "ç¶ºéº—ã«ã™ã‚‹ã­â™¡"], "ä¼šè©±ãƒ»ä¼‘æ†©": ["ãµã…â€¦", "ãˆã¸ã¸", "(ä¼‘æ†©ä¸­)", "(è¦‹ã¤ã‚ã‚‹)"], "ã‚ªãƒŠãƒ‹ãƒ¼è¦‹ã›åˆã„": ["ãã¡ã‚…â™¡(è‡ª)", "ã³ãã£â™¡(è‡ª)", "ã¯ãã¯ãâ€¦"], "69": ["ã‚Œã‚ã‚Œã‚", "ã¡ã‚…ã±ã¡ã‚…ã±", "ã‚“ãã£", "ãšã‚‹ã‚‹ã£"], "ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ": ["ãƒ‰ã‚­ãƒƒ", "ã‚“â€¦â™¡", "(è¦‹ã¤ã‚ã‚‹)", "(æ¯é£ã„)", "â€¦ï¼Ÿ"] };

// --- â–¼â–¼â–¼ ã‚¹ãƒ†ãƒƒã‚«ãƒ¼è¨­å®š â–¼â–¼â–¼ ---
// å ã„ãƒ¢ãƒ¼ãƒ‰ã§ä½¿ã†ã‚¹ãƒ†ãƒƒã‚«ãƒ¼ç”»åƒã®ãƒ‘ã‚¹ãƒªã‚¹ãƒˆ (images/stickers/ ã«é…ç½®æƒ³å®š)
// 1.png ã‹ã‚‰ 21.png ã¾ã§ã‚’è‡ªå‹•ç”Ÿæˆ
const stickerImagePaths = Array.from({ length: 21 }, (_, i) => `images/stickers/${i + 1}.png`);
// ä¾‹: ['images/stickers/1.png', 'images/stickers/2.png', ..., 'images/stickers/21.png']

// ã‚¹ãƒ†ãƒƒã‚«ãƒ¼ã®è‰²ç›¸å›è»¢ã®åŸºæº–ã¨ãªã‚‹è‰² (ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®èµ¤)
const STICKER_BASE_COLOR_HEX = '#ff0000';
// --- â–²â–²â–² ã‚¹ãƒ†ãƒƒã‚«ãƒ¼è¨­å®š â–²â–²â–² ---

// --- LocalStorage ã‚­ãƒ¼å®šç¾© ---
const TAG_STORAGE_KEY = 'onspImageTags_v2';
const WEAK_POINT_STORAGE_KEY = 'onspWeakPoints_v1';
const LS_PLAYER_INFO_KEY = "imepurePlayerInfo_v1";
const LS_IMEPRE_PREFIX = "imepureCustomPersona_v2_";
const LS_TIMELINE_KEY = "imepureTimeline_v1";